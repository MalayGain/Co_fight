{"ast":null,"code":"var supported;\nexport function isGeolocationSupported() {\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    return window.navigator.permissions.query({\n      name: 'geolocation'\n    }).then(function (p) {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}","map":{"version":3,"sources":["../../../src/utils/geolocate-utils.js"],"names":["supported","Promise","window","name","p","Boolean"],"mappings":"AACA,IAAA,SAAA;AAEA,OAAO,SAAA,sBAAA,GAAkC;AAEvC,MAAIA,SAAS,KAAb,SAAA,EAA6B;AAC3B,WAAOC,OAAO,CAAPA,OAAAA,CAAP,SAAOA,CAAP;AACD;;AAED,MAAIC,MAAM,CAANA,SAAAA,CAAAA,WAAAA,KAAJ,SAAA,EAAgD;AAK9C,WAAO,MAAM,CAAN,SAAA,CAAA,WAAA,CAAA,KAAA,CAAmC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAnC,EAAA,IAAA,CAA+D,UAAA,CAAA,EAAK;AACzEH,MAAAA,SAAS,GAAGI,CAAC,CAADA,KAAAA,KAAZJ,QAAAA;AACA,aAAA,SAAA;AAFF,KAAO,CAAP;AAID;;AAEDA,EAAAA,SAAS,GAAGK,OAAO,CAACH,MAAM,CAANA,SAAAA,CAApBF,WAAmB,CAAnBA;AACA,SAAOC,OAAO,CAAPA,OAAAA,CAAP,SAAOA,CAAP;AACD","sourcesContent":["/* global window */\nlet supported;\n\nexport function isGeolocationSupported() {\n  // not necessary to check again\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n\n  if (window.navigator.permissions !== undefined) {\n    // navigator.permissions has incomplete browser support\n    // http://caniuse.com/#feat=permissions-api\n    // Test for the case where a browser disables Geolocation because of an\n    // insecure origin\n    return window.navigator.permissions.query({name: 'geolocation'}).then(p => {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}\n"]},"metadata":{},"sourceType":"module"}